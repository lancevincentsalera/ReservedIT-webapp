@model ASI.Basecode.Services.ServiceModels.RoomViewModelList

@{
    ViewData["Title"] = "Index";
}

<div class="dashboard-header">
    <h1>Rooms</h1>
    <button type="button" class="create-user-btn" data-toggle="modal" data-target="#createRoomModal">
        <img src="~/img/add-logo.png" />Create Room
    </button>
</div>

@Html.Partial("_CreateRoomModal", new ASI.Basecode.Services.ServiceModels.RoomViewModel())

<div class="table-container">
    <div class="user-row header">
        <div class="user-cell">ROOM ID</div>
        <div class="user-cell">ROOM NAME</div>
        <div class="user-cell">DESCRIPTION</div>
        <div class="user-cell">CAPACITY</div>
        <div class="user-cell">LOCATION</div>
        <div class="user-cell">EQUIPMENTS</div>
        <div class="user-cell"></div>
        
    </div>
    <ul class="user-list">
        @foreach (var item in Model.roomList)
        {
            <li class="user-row">
                <div class="user-cell" data-label="ROOM ID">@Html.DisplayFor(modelItem => item.RoomId)</div>
                <div class="user-cell" data-label="ROOM NAME">@Html.DisplayFor(modelItem => item.RoomName)</div>
                <div class="user-cell" data-label="DESCRIPTION">@Html.DisplayFor(modelItem => item.Description)</div>
                <div class="user-cell" data-label="CAPACITY">@Html.DisplayFor(modelItem => item.Capacity)</div>
                <div class="user-cell" data-label="LOCATION">@Html.DisplayFor(modelItem => item.Location)</div>
                <div class="user-cell" data-label="EQUIPMENTS">
                    @if (item.RoomEquipments != null && item.RoomEquipments.Any())
                    {
                            @foreach (var roomEquipment in item.RoomEquipments)
                            {
                                    @roomEquipment.EquipmentName <label>, </label>
                            }
                    }
                    else
                    {
                        <span>No equipment</span>
                    }
                </div>
                <div class="user-cell actions">
                    <div class="mr-20 hover-pointer dropdown-trigger" data-user-id="@item.RoomId">
                        <span class="ddicon">&#8942;</span>
                    </div>
                </div>
            </li>
        }

    </ul>
</div>



@section scripts {
    <script>
        function addEquipment() {
            const equipmentList = document.getElementById('equipmentList');
            const input = document.getElementById('equipment1');
            const equipmentValue = input.value;
            if (equipmentValue) {
                const li = document.createElement('li');
                li.textContent = equipmentValue;
                equipmentList.appendChild(li);
                input.value = ''; // Clear the input field after adding the item
            } else {
                alert('Please enter an equipment name');
            }
        }
    </script>
}
